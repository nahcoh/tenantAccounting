spring:
  application:
    name: tenant-accounting-backend
  profiles:
    default: local

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/tenantAccounting}
    username: ${SPRING_DATASOURCE_USERNAME:root}
    password: ${SPRING_DATASOURCE_PASSWORD:password}
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: false
        dialect: org.hibernate.dialect.MySQLDialect

  flyway:
    enabled: true

  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:not-set}
            client-secret: ${GOOGLE_CLIENT_SECRET:not-set}
            redirect-uri: ${GOOGLE_REDIRECT_URI:https://ziplog.kr/login/oauth2/code/google}
            scope:
              - email
              - profile
          kakao:
            client-id: ${KAKAO_CLIENT_ID:not-set}
            client-secret: ${KAKAO_CLIENT_SECRET:not-set}
            redirect-uri: ${KAKAO_REDIRECT_URI:https://ziplog.kr/login/oauth2/code/kakao}
            authorization-grant-type: authorization_code
            client-authentication-method: client_secret_post
            scope:
              - profile_nickname
            client-name: Kakao
        provider:
          kakao:
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
      resolve-lazily: true

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      timeout: 3000ms

redis:
  enabled: ${REDIS_ENABLED:false}

cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:https://ziplog.kr}

server:
  port: 8080
  error:
    include-message: never
    include-binding-errors: never

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operations-sorter: method
    tags-sorter: alpha

jwt:
  secret: ${JWT_SECRET}
  access-token-expiration: ${JWT_ACCESS_TOKEN_EXPIRATION:3600000}
  refresh-token-expiration: ${JWT_REFRESH_TOKEN_EXPIRATION:604800000}

sentry:
  enabled: false

file:
  upload-dir: ${FILE_UPLOAD_DIR:./uploads}

app:
  oauth2:
    authorized-redirect-uri: ${OAUTH2_REDIRECT_URI:https://ziplog.kr/oauth/redirect}
  auth:
    access-cookie-name: ${ACCESS_COOKIE_NAME:access_token}
    refresh-cookie-name: ${REFRESH_COOKIE_NAME:refresh_token}
    cookie-same-site: ${AUTH_COOKIE_SAME_SITE:Lax}
    cookie-secure: ${AUTH_COOKIE_SECURE:true}
