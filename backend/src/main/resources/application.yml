spring:
  application:
    name: tenant-accounting-backend
  flyway:
    enabled: false

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/tenantAccounting}
    username: ${SPRING_DATASOURCE_USERNAME:root}
    password: ${SPRING_DATASOURCE_PASSWORD:password}
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      timeout: 3000ms

# Redis Configuration
redis:
  enabled: ${REDIS_ENABLED:false}

cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173}

server:
  port: 8080
  error:
    include-message: always
    include-binding-errors: always

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operations-sorter: method
    tags-sorter: alpha

# Kakao Local API Configuration
#kakao:
#  api:
#    key: ${KAKAO_REST_API_KEY:test-api-key-for-development}
#    base-url: https://dapi.kakao.com
#    timeout: 5000

# Claude AI Configuration
#claude:
#  api:
#    key: ${CLAUDE_API_KEY:test-api-key-for-development}
#    model: claude-sonnet-4-20250514
#    timeout: 30000
#    max-tokens: 4096

# Langfuse Configuration
#langfuse:
#  api:
#    public-key: ${LANGFUSE_PUBLIC_KEY:}
#    secret-key: ${LANGFUSE_SECRET_KEY:}
#    base-url: ${LANGFUSE_BASE_URL:https://cloud.langfuse.com}

# OpenTelemetry Configuration for Langfuse
#management:
#  tracing:
#    sampling:
#      probability: 1.0
#  otlp:
#    tracing:
#      endpoint: ${LANGFUSE_BASE_URL:https://cloud.langfuse.com}/api/public/otel/v1/traces
#      headers:
#        Authorization: Basic ${LANGFUSE_AUTH_STRING:}

# JWT Configuration
jwt:
  secret: ${JWT_SECRET:myDefaultDevSecretKeyThatIsAtLeast256BitsLongForHS256Algorithm}
  access-token-expiration: 3600000
  refresh-token-expiration: 604800000

# Sentry Configuration
sentry:
  enabled: false
#  dsn: ${SENTRY_DSN:}
#  environment: ${SENTRY_ENVIRONMENT:development}
#  traces-sample-rate: ${SENTRY_TRACES_SAMPLE_RATE:1.0}
#  send-default-pii: false
#  enable-tracing: true
#  logging:
#    minimum-event-level: warn
#    minimum-breadcrumb-level: info

# Resilience4j Configuration
#resilience4j:
#  circuitbreaker:
#    instances:
#      claudeApi:
#        registerHealthIndicator: true
#        slidingWindowSize: 10
#        minimumNumberOfCalls: 5
#        permittedNumberOfCallsInHalfOpenState: 3
#        automaticTransitionFromOpenToHalfOpenEnabled: true
#        waitDurationInOpenState: 10s
#        failureRateThreshold: 50
#        eventConsumerBufferSize: 10
#  timelimiter:
#    instances:
#      claudeApi:
#        timeoutDuration: 30s
